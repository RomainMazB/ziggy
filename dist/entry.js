var ue=Object.create;var I=Object.defineProperty;var le=Object.getOwnPropertyDescriptor;var ce=Object.getOwnPropertyNames;var se=Object.getPrototypeOf,de=Object.prototype.hasOwnProperty;var R=(n,e)=>()=>(e||n((e={exports:{}}).exports,e),e.exports);var ye=(n,e,r,t)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of ce(e))!de.call(n,i)&&i!==r&&I(n,i,{get:()=>e[i],enumerable:!(t=le(e,i))||t.enumerable});return n};var me=(n,e,r)=>(r=n!=null?ue(se(n)):{},ye(e||!n||!n.__esModule?I(r,"default",{value:n,enumerable:!0}):r,n));var N=R((Ye,z)=>{"use strict";var pe=String.prototype.replace,he=/%20/g,C={RFC1738:"RFC1738",RFC3986:"RFC3986"};z.exports={default:C.RFC3986,formatters:{RFC1738:function(n){return pe.call(n,he,"+")},RFC3986:function(n){return String(n)}},RFC1738:C.RFC1738,RFC3986:C.RFC3986}});var Z=R((Je,_)=>{"use strict";var ge=N(),T=Object.prototype.hasOwnProperty,O=Array.isArray,b=function(){for(var n=[],e=0;e<256;++e)n.push("%"+((e<16?"0":"")+e.toString(16)).toUpperCase());return n}(),be=function(e){for(;e.length>1;){var r=e.pop(),t=r.obj[r.prop];if(O(t)){for(var i=[],f=0;f<t.length;++f)typeof t[f]<"u"&&i.push(t[f]);r.obj[r.prop]=i}}},M=function(e,r){for(var t=r&&r.plainObjects?Object.create(null):{},i=0;i<e.length;++i)typeof e[i]<"u"&&(t[i]=e[i]);return t},ve=function n(e,r,t){if(!r)return e;if(typeof r!="object"){if(O(e))e.push(r);else if(e&&typeof e=="object")(t&&(t.plainObjects||t.allowPrototypes)||!T.call(Object.prototype,r))&&(e[r]=!0);else return[e,r];return e}if(!e||typeof e!="object")return[e].concat(r);var i=e;return O(e)&&!O(r)&&(i=M(e,t)),O(e)&&O(r)?(r.forEach(function(f,a){if(T.call(e,a)){var o=e[a];o&&typeof o=="object"&&f&&typeof f=="object"?e[a]=n(o,f,t):e.push(f)}else e[a]=f}),e):Object.keys(r).reduce(function(f,a){var o=r[a];return T.call(f,a)?f[a]=n(f[a],o,t):f[a]=o,f},i)},Oe=function(e,r){return Object.keys(r).reduce(function(t,i){return t[i]=r[i],t},e)},je=function(n,e,r){var t=n.replace(/\+/g," ");if(r==="iso-8859-1")return t.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(t)}catch{return t}},we=function(e,r,t,i,f){if(e.length===0)return e;var a=e;if(typeof e=="symbol"?a=Symbol.prototype.toString.call(e):typeof e!="string"&&(a=String(e)),t==="iso-8859-1")return escape(a).replace(/%u[0-9a-f]{4}/gi,function(c){return"%26%23"+parseInt(c.slice(2),16)+"%3B"});for(var o="",l=0;l<a.length;++l){var u=a.charCodeAt(l);if(u===45||u===46||u===95||u===126||u>=48&&u<=57||u>=65&&u<=90||u>=97&&u<=122||f===ge.RFC1738&&(u===40||u===41)){o+=a.charAt(l);continue}if(u<128){o=o+b[u];continue}if(u<2048){o=o+(b[192|u>>6]+b[128|u&63]);continue}if(u<55296||u>=57344){o=o+(b[224|u>>12]+b[128|u>>6&63]+b[128|u&63]);continue}l+=1,u=65536+((u&1023)<<10|a.charCodeAt(l)&1023),o+=b[240|u>>18]+b[128|u>>12&63]+b[128|u>>6&63]+b[128|u&63]}return o},xe=function(e){for(var r=[{obj:{o:e},prop:"o"}],t=[],i=0;i<r.length;++i)for(var f=r[i],a=f.obj[f.prop],o=Object.keys(a),l=0;l<o.length;++l){var u=o[l],c=a[u];typeof c=="object"&&c!==null&&t.indexOf(c)===-1&&(r.push({obj:a,prop:u}),t.push(c))}return be(r),e},Re=function(e){return Object.prototype.toString.call(e)==="[object RegExp]"},Ee=function(e){return!e||typeof e!="object"?!1:!!(e.constructor&&e.constructor.isBuffer&&e.constructor.isBuffer(e))},Se=function(e,r){return[].concat(e,r)},$e=function(e,r){if(O(e)){for(var t=[],i=0;i<e.length;i+=1)t.push(r(e[i]));return t}return r(e)};_.exports={arrayToObject:M,assign:Oe,combine:Se,compact:xe,decode:je,encode:we,isBuffer:Ee,isRegExp:Re,maybeMap:$e,merge:ve}});var W=R((er,k)=>{"use strict";var q=Z(),E=N(),Ne=Object.prototype.hasOwnProperty,V={brackets:function(e){return e+"[]"},comma:"comma",indices:function(e,r){return e+"["+r+"]"},repeat:function(e){return e}},j=Array.isArray,De=String.prototype.split,Fe=Array.prototype.push,G=function(n,e){Fe.apply(n,j(e)?e:[e])},Ae=Date.prototype.toISOString,K=E.default,p={addQueryPrefix:!1,allowDots:!1,charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encoder:q.encode,encodeValuesOnly:!1,format:K,formatter:E.formatters[K],indices:!1,serializeDate:function(e){return Ae.call(e)},skipNulls:!1,strictNullHandling:!1},Ce=function(e){return typeof e=="string"||typeof e=="number"||typeof e=="boolean"||typeof e=="symbol"||typeof e=="bigint"},Te=function n(e,r,t,i,f,a,o,l,u,c,d,y,g,m){var s=e;if(typeof o=="function"?s=o(r,s):s instanceof Date?s=c(s):t==="comma"&&j(s)&&(s=q.maybeMap(s,function(A){return A instanceof Date?c(A):A})),s===null){if(i)return a&&!g?a(r,p.encoder,m,"key",d):r;s=""}if(Ce(s)||q.isBuffer(s)){if(a){var P=g?r:a(r,p.encoder,m,"key",d);if(t==="comma"&&g){for(var U=De.call(String(s),","),Q="",$=0;$<U.length;++$)Q+=($===0?"":",")+y(a(U[$],p.encoder,m,"value",d));return[y(P)+"="+Q]}return[y(P)+"="+y(a(s,p.encoder,m,"value",d))]}return[y(r)+"="+y(String(s))]}var D=[];if(typeof s>"u")return D;var x;if(t==="comma"&&j(s))x=[{value:s.length>0?s.join(",")||null:void 0}];else if(j(o))x=o;else{var H=Object.keys(s);x=l?H.sort(l):H}for(var F=0;F<x.length;++F){var v=x[F],B=typeof v=="object"&&typeof v.value<"u"?v.value:s[v];if(!(f&&B===null)){var fe=j(s)?typeof t=="function"?t(r,v):r:r+(u?"."+v:"["+v+"]");G(D,n(B,fe,t,i,f,a,o,l,u,c,d,y,g,m))}}return D},Ze=function(e){if(!e)return p;if(e.encoder!==null&&typeof e.encoder<"u"&&typeof e.encoder!="function")throw new TypeError("Encoder has to be a function.");var r=e.charset||p.charset;if(typeof e.charset<"u"&&e.charset!=="utf-8"&&e.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var t=E.default;if(typeof e.format<"u"){if(!Ne.call(E.formatters,e.format))throw new TypeError("Unknown format option provided.");t=e.format}var i=E.formatters[t],f=p.filter;return(typeof e.filter=="function"||j(e.filter))&&(f=e.filter),{addQueryPrefix:typeof e.addQueryPrefix=="boolean"?e.addQueryPrefix:p.addQueryPrefix,allowDots:typeof e.allowDots>"u"?p.allowDots:!!e.allowDots,charset:r,charsetSentinel:typeof e.charsetSentinel=="boolean"?e.charsetSentinel:p.charsetSentinel,delimiter:typeof e.delimiter>"u"?p.delimiter:e.delimiter,encode:typeof e.encode=="boolean"?e.encode:p.encode,encoder:typeof e.encoder=="function"?e.encoder:p.encoder,encodeValuesOnly:typeof e.encodeValuesOnly=="boolean"?e.encodeValuesOnly:p.encodeValuesOnly,filter:f,format:t,formatter:i,serializeDate:typeof e.serializeDate=="function"?e.serializeDate:p.serializeDate,skipNulls:typeof e.skipNulls=="boolean"?e.skipNulls:p.skipNulls,sort:typeof e.sort=="function"?e.sort:null,strictNullHandling:typeof e.strictNullHandling=="boolean"?e.strictNullHandling:p.strictNullHandling}};k.exports=function(n,e){var r=n,t=Ze(e),i,f;typeof t.filter=="function"?(f=t.filter,r=f("",r)):j(t.filter)&&(f=t.filter,i=f);var a=[];if(typeof r!="object"||r===null)return"";var o;e&&e.arrayFormat in V?o=e.arrayFormat:e&&"indices"in e?o=e.indices?"indices":"repeat":o="indices";var l=V[o];i||(i=Object.keys(r)),t.sort&&i.sort(t.sort);for(var u=0;u<i.length;++u){var c=i[u];t.skipNulls&&r[c]===null||G(a,Te(r[c],c,l,t.strictNullHandling,t.skipNulls,t.encode?t.encoder:null,t.filter,t.sort,t.allowDots,t.serializeDate,t.format,t.formatter,t.encodeValuesOnly,t.charset))}var d=a.join(t.delimiter),y=t.addQueryPrefix===!0?"?":"";return t.charsetSentinel&&(t.charset==="iso-8859-1"?y+="utf8=%26%2310003%3B&":y+="utf8=%E2%9C%93&"),d.length>0?y+d:""}});var J=R((rr,Y)=>{"use strict";var w=Z(),L=Object.prototype.hasOwnProperty,qe=Array.isArray,h={allowDots:!1,allowPrototypes:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decoder:w.decode,delimiter:"&",depth:5,ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictNullHandling:!1},Le=function(n){return n.replace(/&#(\d+);/g,function(e,r){return String.fromCharCode(parseInt(r,10))})},X=function(n,e){return n&&typeof n=="string"&&e.comma&&n.indexOf(",")>-1?n.split(","):n},Pe="utf8=%26%2310003%3B",Ue="utf8=%E2%9C%93",Qe=function(e,r){var t={},i=r.ignoreQueryPrefix?e.replace(/^\?/,""):e,f=r.parameterLimit===1/0?void 0:r.parameterLimit,a=i.split(r.delimiter,f),o=-1,l,u=r.charset;if(r.charsetSentinel)for(l=0;l<a.length;++l)a[l].indexOf("utf8=")===0&&(a[l]===Ue?u="utf-8":a[l]===Pe&&(u="iso-8859-1"),o=l,l=a.length);for(l=0;l<a.length;++l)if(l!==o){var c=a[l],d=c.indexOf("]="),y=d===-1?c.indexOf("="):d+1,g,m;y===-1?(g=r.decoder(c,h.decoder,u,"key"),m=r.strictNullHandling?null:""):(g=r.decoder(c.slice(0,y),h.decoder,u,"key"),m=w.maybeMap(X(c.slice(y+1),r),function(s){return r.decoder(s,h.decoder,u,"value")})),m&&r.interpretNumericEntities&&u==="iso-8859-1"&&(m=Le(m)),c.indexOf("[]=")>-1&&(m=qe(m)?[m]:m),L.call(t,g)?t[g]=w.combine(t[g],m):t[g]=m}return t},He=function(n,e,r,t){for(var i=t?e:X(e,r),f=n.length-1;f>=0;--f){var a,o=n[f];if(o==="[]"&&r.parseArrays)a=[].concat(i);else{a=r.plainObjects?Object.create(null):{};var l=o.charAt(0)==="["&&o.charAt(o.length-1)==="]"?o.slice(1,-1):o,u=parseInt(l,10);!r.parseArrays&&l===""?a={0:i}:!isNaN(u)&&o!==l&&String(u)===l&&u>=0&&r.parseArrays&&u<=r.arrayLimit?(a=[],a[u]=i):l!=="__proto__"&&(a[l]=i)}i=a}return i},Be=function(e,r,t,i){if(e){var f=t.allowDots?e.replace(/\.([^.[]+)/g,"[$1]"):e,a=/(\[[^[\]]*])/,o=/(\[[^[\]]*])/g,l=t.depth>0&&a.exec(f),u=l?f.slice(0,l.index):f,c=[];if(u){if(!t.plainObjects&&L.call(Object.prototype,u)&&!t.allowPrototypes)return;c.push(u)}for(var d=0;t.depth>0&&(l=o.exec(f))!==null&&d<t.depth;){if(d+=1,!t.plainObjects&&L.call(Object.prototype,l[1].slice(1,-1))&&!t.allowPrototypes)return;c.push(l[1])}return l&&c.push("["+f.slice(l.index)+"]"),He(c,r,t,i)}},Ie=function(e){if(!e)return h;if(e.decoder!==null&&e.decoder!==void 0&&typeof e.decoder!="function")throw new TypeError("Decoder has to be a function.");if(typeof e.charset<"u"&&e.charset!=="utf-8"&&e.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var r=typeof e.charset>"u"?h.charset:e.charset;return{allowDots:typeof e.allowDots>"u"?h.allowDots:!!e.allowDots,allowPrototypes:typeof e.allowPrototypes=="boolean"?e.allowPrototypes:h.allowPrototypes,arrayLimit:typeof e.arrayLimit=="number"?e.arrayLimit:h.arrayLimit,charset:r,charsetSentinel:typeof e.charsetSentinel=="boolean"?e.charsetSentinel:h.charsetSentinel,comma:typeof e.comma=="boolean"?e.comma:h.comma,decoder:typeof e.decoder=="function"?e.decoder:h.decoder,delimiter:typeof e.delimiter=="string"||w.isRegExp(e.delimiter)?e.delimiter:h.delimiter,depth:typeof e.depth=="number"||e.depth===!1?+e.depth:h.depth,ignoreQueryPrefix:e.ignoreQueryPrefix===!0,interpretNumericEntities:typeof e.interpretNumericEntities=="boolean"?e.interpretNumericEntities:h.interpretNumericEntities,parameterLimit:typeof e.parameterLimit=="number"?e.parameterLimit:h.parameterLimit,parseArrays:e.parseArrays!==!1,plainObjects:typeof e.plainObjects=="boolean"?e.plainObjects:h.plainObjects,strictNullHandling:typeof e.strictNullHandling=="boolean"?e.strictNullHandling:h.strictNullHandling}};Y.exports=function(n,e){var r=Ie(e);if(n===""||n===null||typeof n>"u")return r.plainObjects?Object.create(null):{};for(var t=typeof n=="string"?Qe(n,r):n,i=r.plainObjects?Object.create(null):{},f=Object.keys(t),a=0;a<f.length;++a){var o=f[a],l=Be(o,t[o],r,typeof n=="string");i=w.merge(i,l,r)}return w.compact(i)}});var re=R((tr,ee)=>{"use strict";var ze=W(),Me=J(),_e=N();ee.exports={formats:_e,parse:Me,stringify:ze}});var ne=me(re(),1),ie=/(\/?){([^}?]+)(\??)}/g;function ae(n,e){return`${e.absolute?n.domain?`${/^\w+:\/\//.exec(e.url)}${n.domain}${e.port?`:${e.port}`:""}`:e.url:""}/${n.uri}`.replace(/\/+$/,"")}function Ve(n,e,r){if(e.methods.includes("GET")){let t=ae(e,r).replace(ie,(f,a,o,l)=>{let u=`(?<${o}>${e.wheres?.[o]?.replace(/(^\^)|(\$$)/g,"")||"[^/?]+"})`;return l?`(${a}${u})?`:`${a}${u}`}).replace(/^\w+:\/\//,""),i=new RegExp(`^${t}/?$`).exec(`${r.absolute?n.host:""}${n.pathname}`);if(i)return{matched:!0,params:i.groups??{},query:n.searchParams}}return{matched:!1}}function te(n){let e=new URL(n.location??window.location.href),r={params:{},query:{}},[t,i]=Object.entries(n.routes).find(([,f])=>{let a=Ve(e,f,n);return a.matched&&(r={params:a.params,query:a.query}),a.matched})||[];return t&&i?{matched:!0,name:t,route:i,...r}:{matched:!1}}function Ke(n,e){return S(n,e).filter(({name:r})=>Object.hasOwn(e.defaults,r)).reduce((r,t)=>({...r,[t.name]:e.defaults[t.name]}),{})}function S(n,e){let t=`${e.absolute?n.domain??e.url:""}${n.uri}`.matchAll(ie);return Array.from(t).map(([,,i,f])=>({name:i,required:!f}))??[]}function Ge(n,e,r){return Object.entries(n).reduce((t,[i,f])=>{if(!f||f instanceof Array||typeof f!="object"||!S(e,r).some(({name:o})=>o===i))return{...t,[i]:f};e.bindings??={};let a=e.bindings[i];if(!a||!Object.hasOwn(f,a))if(Object.hasOwn(f,"id"))e.bindings[i]="id";else throw new Error(`Ziggy error: object passed as '${i}' parameter is missing route model binding key '${a}'.`);return{...t,[i]:f[e.bindings[i]??0]}},{})}function oe(n,e,r){(typeof n=="string"||typeof n=="number")&&(n=[n]);let t=S(e,r).filter(({name:i})=>!Object.hasOwn(r.defaults,i));if(n instanceof Array)n=n.reduce((i,f,a)=>{let o=t[a];return o?{...i,[o.name]:f}:{...i,...typeof f=="object"?f:{[f]:""}}},{});else{let i=Object.values(e.bindings??{})[0];t.length===1&&t[0]&&!Object.hasOwn(n,t[0].name)&&(i&&Object.hasOwn(n,i)||Object.hasOwn(n,"id"))&&(n={[t[0].name]:n})}return{...Ke(e,r),...Ge(n,e,r)}}function ke(n,e,r,t){let i=ae(r,t),f=S(r,t);return f.length?i.replace(/{([^}?]+)(\??)}/g,(a,o,l)=>{let c=e[o];if(!l&&c==null)throw new Error(`Ziggy error: '${o}' parameter is required for route '${n}'.`);if(f[f.length-1]?.name===o&&r.wheres?.[o]===".*")return encodeURIComponent(e[o]??"").replace(/%2F/g,"/");if(r.wheres?.[o]&&!new RegExp(`^${l?`(${r.wheres[o]})?`:r.wheres[o]}$`).test(e[o]??""))throw new Error(`Ziggy error: '${o}' parameter does not match required format '${r.wheres[o]}' for route '${n}'.`);return encodeURIComponent(e[o]??"")}).replace(/\/+$/,""):i}function We(n,e,r){let t=r.routes[n];if(!t)throw new Error(`Ziggy error: route '${n}' is not in the route list.`);let i=oe(e??{},t,r),f=Object.keys(i).filter(a=>!S(t,r).some(({name:o})=>o===a)).filter(a=>a!=="_query").reduce((a,o)=>({...a,[o]:i[o]}),{});return ke(n,i,t,r)+(0,ne.stringify)({...f,...i._query},{addQueryPrefix:!0,arrayFormat:"indices",encodeValuesOnly:!0,skipNulls:!0,encoder:(a,o)=>typeof a=="boolean"?a?"1":"0":o(a)})}function nr(n,e,r=!0,t){let i=t??Ziggy??globalThis?.Ziggy;if(i.absolute=r,n)return We(n,e,i);function f(a,o){let l=te(i);if(!l.matched)return a?!1:void 0;if(!a)return l.name;let u=new RegExp(`^${a.replace(/\./g,"\\.").replace(/\*/g,".*")}$`).test(l.name);if(o==null||!u)return u;o=oe(o,l.route,i);let c={...l.params,...l.query};return Object.values(o).every(d=>!d)&&!Object.values(c).some(d=>d!==void 0)?!0:Object.entries(o).every(([d,y])=>c[d]==y)}return{get params(){let a=te(i);return a.matched?{...a.params,...a.query}:{}},current:f,has(a){return Object.hasOwn(i.routes,a)},check(a){return Object.hasOwn(i.routes,a)}}}export{nr as route};
