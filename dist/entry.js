var ue=Object.create;var M=Object.defineProperty;var le=Object.getOwnPropertyDescriptor;var ce=Object.getOwnPropertyNames;var fe=Object.getPrototypeOf,se=Object.prototype.hasOwnProperty;var E=(n,e)=>()=>(e||n((e={exports:{}}).exports,e),e.exports);var de=(n,e,r,t)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of ce(e))!se.call(n,i)&&i!==r&&M(n,i,{get:()=>e[i],enumerable:!(t=le(e,i))||t.enumerable});return n};var ye=(n,e,r)=>(r=n!=null?ue(fe(n)):{},de(e||!n||!n.__esModule?M(r,"default",{value:n,enumerable:!0}):r,n));var $=E((Je,_)=>{"use strict";var pe=String.prototype.replace,he=/%20/g,q={RFC1738:"RFC1738",RFC3986:"RFC3986"};_.exports={default:q.RFC3986,formatters:{RFC1738:function(n){return pe.call(n,he,"+")},RFC3986:function(n){return String(n)}},RFC1738:q.RFC1738,RFC3986:q.RFC3986}});var P=E((er,K)=>{"use strict";var me=$(),Z=Object.prototype.hasOwnProperty,O=Array.isArray,b=function(){for(var n=[],e=0;e<256;++e)n.push("%"+((e<16?"0":"")+e.toString(16)).toUpperCase());return n}(),ge=function(e){for(;e.length>1;){var r=e.pop(),t=r.obj[r.prop];if(O(t)){for(var i=[],u=0;u<t.length;++u)typeof t[u]<"u"&&i.push(t[u]);r.obj[r.prop]=i}}},V=function(e,r){for(var t=r&&r.plainObjects?Object.create(null):{},i=0;i<e.length;++i)typeof e[i]<"u"&&(t[i]=e[i]);return t},be=function n(e,r,t){if(!r)return e;if(typeof r!="object"){if(O(e))e.push(r);else if(e&&typeof e=="object")(t&&(t.plainObjects||t.allowPrototypes)||!Z.call(Object.prototype,r))&&(e[r]=!0);else return[e,r];return e}if(!e||typeof e!="object")return[e].concat(r);var i=e;return O(e)&&!O(r)&&(i=V(e,t)),O(e)&&O(r)?(r.forEach(function(u,o){if(Z.call(e,o)){var a=e[o];a&&typeof a=="object"&&u&&typeof u=="object"?e[o]=n(a,u,t):e.push(u)}else e[o]=u}),e):Object.keys(r).reduce(function(u,o){var a=r[o];return Z.call(u,o)?u[o]=n(u[o],a,t):u[o]=a,u},i)},ve=function(e,r){return Object.keys(r).reduce(function(t,i){return t[i]=r[i],t},e)},Oe=function(n,e,r){var t=n.replace(/\+/g," ");if(r==="iso-8859-1")return t.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(t)}catch{return t}},we=function(e,r,t,i,u){if(e.length===0)return e;var o=e;if(typeof e=="symbol"?o=Symbol.prototype.toString.call(e):typeof e!="string"&&(o=String(e)),t==="iso-8859-1")return escape(o).replace(/%u[0-9a-f]{4}/gi,function(f){return"%26%23"+parseInt(f.slice(2),16)+"%3B"});for(var a="",c=0;c<o.length;++c){var l=o.charCodeAt(c);if(l===45||l===46||l===95||l===126||l>=48&&l<=57||l>=65&&l<=90||l>=97&&l<=122||u===me.RFC1738&&(l===40||l===41)){a+=o.charAt(c);continue}if(l<128){a=a+b[l];continue}if(l<2048){a=a+(b[192|l>>6]+b[128|l&63]);continue}if(l<55296||l>=57344){a=a+(b[224|l>>12]+b[128|l>>6&63]+b[128|l&63]);continue}c+=1,l=65536+((l&1023)<<10|o.charCodeAt(c)&1023),a+=b[240|l>>18]+b[128|l>>12&63]+b[128|l>>6&63]+b[128|l&63]}return a},je=function(e){for(var r=[{obj:{o:e},prop:"o"}],t=[],i=0;i<r.length;++i)for(var u=r[i],o=u.obj[u.prop],a=Object.keys(o),c=0;c<a.length;++c){var l=a[c],f=o[l];typeof f=="object"&&f!==null&&t.indexOf(f)===-1&&(r.push({obj:o,prop:l}),t.push(f))}return ge(r),e},xe=function(e){return Object.prototype.toString.call(e)==="[object RegExp]"},Re=function(e){return!e||typeof e!="object"?!1:!!(e.constructor&&e.constructor.isBuffer&&e.constructor.isBuffer(e))},Ee=function(e,r){return[].concat(e,r)},Se=function(e,r){if(O(e)){for(var t=[],i=0;i<e.length;i+=1)t.push(r(e[i]));return t}return r(e)};K.exports={arrayToObject:V,assign:ve,combine:Ee,compact:je,decode:Oe,encode:we,isBuffer:Re,isRegExp:xe,maybeMap:Se,merge:be}});var Y=E((rr,X)=>{"use strict";var U=P(),S=$(),Ne=Object.prototype.hasOwnProperty,G={brackets:function(e){return e+"[]"},comma:"comma",indices:function(e,r){return e+"["+r+"]"},repeat:function(e){return e}},w=Array.isArray,De=String.prototype.split,$e=Array.prototype.push,W=function(n,e){$e.apply(n,w(e)?e:[e])},Fe=Date.prototype.toISOString,k=S.default,h={addQueryPrefix:!1,allowDots:!1,charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encoder:U.encode,encodeValuesOnly:!1,format:k,formatter:S.formatters[k],indices:!1,serializeDate:function(e){return Fe.call(e)},skipNulls:!1,strictNullHandling:!1},Ce=function(e){return typeof e=="string"||typeof e=="number"||typeof e=="boolean"||typeof e=="symbol"||typeof e=="bigint"},Ae=function n(e,r,t,i,u,o,a,c,l,f,y,d,g,p){var s=e;if(typeof a=="function"?s=a(r,s):s instanceof Date?s=f(s):t==="comma"&&w(s)&&(s=U.maybeMap(s,function(T){return T instanceof Date?f(T):T})),s===null){if(i)return o&&!g?o(r,h.encoder,p,"key",y):r;s=""}if(Ce(s)||U.isBuffer(s)){if(o){var Q=g?r:o(r,h.encoder,p,"key",y);if(t==="comma"&&g){for(var H=De.call(String(s),","),B="",D=0;D<H.length;++D)B+=(D===0?"":",")+d(o(H[D],h.encoder,p,"value",y));return[d(Q)+"="+B]}return[d(Q)+"="+d(o(s,h.encoder,p,"value",y))]}return[d(r)+"="+d(String(s))]}var C=[];if(typeof s>"u")return C;var R;if(t==="comma"&&w(s))R=[{value:s.length>0?s.join(",")||null:void 0}];else if(w(a))R=a;else{var z=Object.keys(s);R=c?z.sort(c):z}for(var A=0;A<R.length;++A){var v=R[A],I=typeof v=="object"&&typeof v.value<"u"?v.value:s[v];if(!(u&&I===null)){var oe=w(s)?typeof t=="function"?t(r,v):r:r+(l?"."+v:"["+v+"]");W(C,n(I,oe,t,i,u,o,a,c,l,f,y,d,g,p))}}return C},Te=function(e){if(!e)return h;if(e.encoder!==null&&typeof e.encoder<"u"&&typeof e.encoder!="function")throw new TypeError("Encoder has to be a function.");var r=e.charset||h.charset;if(typeof e.charset<"u"&&e.charset!=="utf-8"&&e.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var t=S.default;if(typeof e.format<"u"){if(!Ne.call(S.formatters,e.format))throw new TypeError("Unknown format option provided.");t=e.format}var i=S.formatters[t],u=h.filter;return(typeof e.filter=="function"||w(e.filter))&&(u=e.filter),{addQueryPrefix:typeof e.addQueryPrefix=="boolean"?e.addQueryPrefix:h.addQueryPrefix,allowDots:typeof e.allowDots>"u"?h.allowDots:!!e.allowDots,charset:r,charsetSentinel:typeof e.charsetSentinel=="boolean"?e.charsetSentinel:h.charsetSentinel,delimiter:typeof e.delimiter>"u"?h.delimiter:e.delimiter,encode:typeof e.encode=="boolean"?e.encode:h.encode,encoder:typeof e.encoder=="function"?e.encoder:h.encoder,encodeValuesOnly:typeof e.encodeValuesOnly=="boolean"?e.encodeValuesOnly:h.encodeValuesOnly,filter:u,format:t,formatter:i,serializeDate:typeof e.serializeDate=="function"?e.serializeDate:h.serializeDate,skipNulls:typeof e.skipNulls=="boolean"?e.skipNulls:h.skipNulls,sort:typeof e.sort=="function"?e.sort:null,strictNullHandling:typeof e.strictNullHandling=="boolean"?e.strictNullHandling:h.strictNullHandling}};X.exports=function(n,e){var r=n,t=Te(e),i,u;typeof t.filter=="function"?(u=t.filter,r=u("",r)):w(t.filter)&&(u=t.filter,i=u);var o=[];if(typeof r!="object"||r===null)return"";var a;e&&e.arrayFormat in G?a=e.arrayFormat:e&&"indices"in e?a=e.indices?"indices":"repeat":a="indices";var c=G[a];i||(i=Object.keys(r)),t.sort&&i.sort(t.sort);for(var l=0;l<i.length;++l){var f=i[l];t.skipNulls&&r[f]===null||W(o,Ae(r[f],f,c,t.strictNullHandling,t.skipNulls,t.encode?t.encoder:null,t.filter,t.sort,t.allowDots,t.serializeDate,t.format,t.formatter,t.encodeValuesOnly,t.charset))}var y=o.join(t.delimiter),d=t.addQueryPrefix===!0?"?":"";return t.charsetSentinel&&(t.charset==="iso-8859-1"?d+="utf8=%26%2310003%3B&":d+="utf8=%E2%9C%93&"),y.length>0?d+y:""}});var re=E((tr,ee)=>{"use strict";var j=P(),L=Object.prototype.hasOwnProperty,qe=Array.isArray,m={allowDots:!1,allowPrototypes:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decoder:j.decode,delimiter:"&",depth:5,ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictNullHandling:!1},Ze=function(n){return n.replace(/&#(\d+);/g,function(e,r){return String.fromCharCode(parseInt(r,10))})},J=function(n,e){return n&&typeof n=="string"&&e.comma&&n.indexOf(",")>-1?n.split(","):n},Pe="utf8=%26%2310003%3B",Ue="utf8=%E2%9C%93",Le=function(e,r){var t={},i=r.ignoreQueryPrefix?e.replace(/^\?/,""):e,u=r.parameterLimit===1/0?void 0:r.parameterLimit,o=i.split(r.delimiter,u),a=-1,c,l=r.charset;if(r.charsetSentinel)for(c=0;c<o.length;++c)o[c].indexOf("utf8=")===0&&(o[c]===Ue?l="utf-8":o[c]===Pe&&(l="iso-8859-1"),a=c,c=o.length);for(c=0;c<o.length;++c)if(c!==a){var f=o[c],y=f.indexOf("]="),d=y===-1?f.indexOf("="):y+1,g,p;d===-1?(g=r.decoder(f,m.decoder,l,"key"),p=r.strictNullHandling?null:""):(g=r.decoder(f.slice(0,d),m.decoder,l,"key"),p=j.maybeMap(J(f.slice(d+1),r),function(s){return r.decoder(s,m.decoder,l,"value")})),p&&r.interpretNumericEntities&&l==="iso-8859-1"&&(p=Ze(p)),f.indexOf("[]=")>-1&&(p=qe(p)?[p]:p),L.call(t,g)?t[g]=j.combine(t[g],p):t[g]=p}return t},Qe=function(n,e,r,t){for(var i=t?e:J(e,r),u=n.length-1;u>=0;--u){var o,a=n[u];if(a==="[]"&&r.parseArrays)o=[].concat(i);else{o=r.plainObjects?Object.create(null):{};var c=a.charAt(0)==="["&&a.charAt(a.length-1)==="]"?a.slice(1,-1):a,l=parseInt(c,10);!r.parseArrays&&c===""?o={0:i}:!isNaN(l)&&a!==c&&String(l)===c&&l>=0&&r.parseArrays&&l<=r.arrayLimit?(o=[],o[l]=i):c!=="__proto__"&&(o[c]=i)}i=o}return i},He=function(e,r,t,i){if(e){var u=t.allowDots?e.replace(/\.([^.[]+)/g,"[$1]"):e,o=/(\[[^[\]]*])/,a=/(\[[^[\]]*])/g,c=t.depth>0&&o.exec(u),l=c?u.slice(0,c.index):u,f=[];if(l){if(!t.plainObjects&&L.call(Object.prototype,l)&&!t.allowPrototypes)return;f.push(l)}for(var y=0;t.depth>0&&(c=a.exec(u))!==null&&y<t.depth;){if(y+=1,!t.plainObjects&&L.call(Object.prototype,c[1].slice(1,-1))&&!t.allowPrototypes)return;f.push(c[1])}return c&&f.push("["+u.slice(c.index)+"]"),Qe(f,r,t,i)}},Be=function(e){if(!e)return m;if(e.decoder!==null&&e.decoder!==void 0&&typeof e.decoder!="function")throw new TypeError("Decoder has to be a function.");if(typeof e.charset<"u"&&e.charset!=="utf-8"&&e.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var r=typeof e.charset>"u"?m.charset:e.charset;return{allowDots:typeof e.allowDots>"u"?m.allowDots:!!e.allowDots,allowPrototypes:typeof e.allowPrototypes=="boolean"?e.allowPrototypes:m.allowPrototypes,arrayLimit:typeof e.arrayLimit=="number"?e.arrayLimit:m.arrayLimit,charset:r,charsetSentinel:typeof e.charsetSentinel=="boolean"?e.charsetSentinel:m.charsetSentinel,comma:typeof e.comma=="boolean"?e.comma:m.comma,decoder:typeof e.decoder=="function"?e.decoder:m.decoder,delimiter:typeof e.delimiter=="string"||j.isRegExp(e.delimiter)?e.delimiter:m.delimiter,depth:typeof e.depth=="number"||e.depth===!1?+e.depth:m.depth,ignoreQueryPrefix:e.ignoreQueryPrefix===!0,interpretNumericEntities:typeof e.interpretNumericEntities=="boolean"?e.interpretNumericEntities:m.interpretNumericEntities,parameterLimit:typeof e.parameterLimit=="number"?e.parameterLimit:m.parameterLimit,parseArrays:e.parseArrays!==!1,plainObjects:typeof e.plainObjects=="boolean"?e.plainObjects:m.plainObjects,strictNullHandling:typeof e.strictNullHandling=="boolean"?e.strictNullHandling:m.strictNullHandling}};ee.exports=function(n,e){var r=Be(e);if(n===""||n===null||typeof n>"u")return r.plainObjects?Object.create(null):{};for(var t=typeof n=="string"?Le(n,r):n,i=r.plainObjects?Object.create(null):{},u=Object.keys(t),o=0;o<u.length;++o){var a=u[o],c=He(a,t[a],r,typeof n=="string");i=j.merge(i,c,r)}return j.compact(i)}});var ne=E((nr,te)=>{"use strict";var ze=Y(),Ie=re(),Me=$();te.exports={formats:Me,parse:Ie,stringify:ze}});var F=ye(ne(),1);function _e(n){let{host:e="",pathname:r="",search:t=""}=typeof window<"u"?window.location:{};return{host:n.location?.host??e,pathname:n.location?.pathname??r,search:n.location?.search??t}}function Ve(n){let{host:e,pathname:r,search:t}=_e(n);return(n.absolute?e+r:r.replace(n.url.replace(/^\w*:\/\/[^/]+/,""),"").replace(/^\/+/,"/"))+t}function x(n,e){return`${e.absolute?n.domain?`${e.url.match(/^\w+:\/\//)?.[0]}${n.domain}${e.port?`:${e.port}`:""}`:e.url:""}/${n.uri}`.replace(/\/+$/,"")}function Ke(n,e,r){if(e.methods.includes("GET")){let t=x(e,r).replace(/(\/?){([^}?]*)(\??)}/g,(a,c,l,f)=>{let y=`(?<${l}>${e.wheres?.[l]?.replace(/(^\^)|(\$$)/g,"")||"[^/?]+"})`;return f?`(${c}${y})?`:`${c}${y}`}).replace(/^\w+:\/\//,""),[i,u]=n.replace(/^\w+:\/\//,"").split("?"),o=new RegExp(`^${t}/?$`).exec(i);if(o)return{matched:!0,params:o.groups??{},query:(0,F.parse)(u)}}return{matched:!1}}function ie(n){let e=Ve(n),r={params:{},query:{}},[t,i]=Object.entries(n.routes).find(([u,o])=>{let a=Ke(e,o,n);return a.matched&&(r={params:a.params,query:a.query}),a.matched})||[];return t&&i?{matched:!0,name:t,route:i,...r}:{matched:!1}}function Ge(n,e){return N(x(n,e)).filter(({name:r})=>Object.hasOwn(e.defaults,r)).reduce((r,t)=>({...r,[t.name]:e.defaults[t.name]}),{})}function N(n){return n.match(/{[^}?]+\??}/g)?.map(e=>({name:e.replace(/{|\??}/g,""),required:!/\?}$/.test(e)}))??[]}function ke(n,e,r){return Object.entries(n).reduce((t,[i,u])=>{if(!u||u instanceof Array||typeof u!="object"||!N(x(e,r)).some(({name:a})=>a===i))return{...t,[i]:u};e.bindings??={};let o=e.bindings[i];if(!o||!Object.hasOwn(u,o))if(Object.hasOwn(u,"id"))e.bindings[i]="id";else throw new Error(`Ziggy error: object passed as '${i}' parameter is missing route model binding key '${o}'.`);return{...t,[i]:u[e.bindings[i]??0]}},{})}function ae(n,e,r){(typeof n=="string"||typeof n=="number")&&(n=[n]);let t=N(x(e,r)).filter(({name:i})=>!Object.hasOwn(r.defaults,i));if(n instanceof Array)n=n.reduce((i,u,o)=>{let a=t[o];return a?{...i,[a.name]:u}:{...i,...typeof u=="object"?u:{[u]:""}}},{});else{let i=Object.values(e.bindings??{})[0];t.length===1&&t[0]&&!Object.hasOwn(n,t[0].name)&&(i&&Object.hasOwn(n,i)||Object.hasOwn(n,"id"))&&(n={[t[0].name]:n})}return{...Ge(e,r),...ke(n,e,r)}}function We(n,e,r,t){let i=x(r,t),u=N(i);return u.length?i.replace(/{([^}?]+)(\??)}/g,(o,a,c)=>{let f=e[a];if(!c&&f==null)throw new Error(`Ziggy error: '${a}' parameter is required for route '${n}'.`);if(u[u.length-1]?.name===a&&r.wheres?.[a]===".*")return encodeURIComponent(e[a]??"").replace(/%2F/g,"/");if(r.wheres?.[a]&&!new RegExp(`^${c?`(${r.wheres[a]})?`:r.wheres[a]}$`).test(e[a]??""))throw new Error(`Ziggy error: '${a}' parameter does not match required format '${r.wheres[a]}' for route '${n}'.`);return encodeURIComponent(e[a]??"")}).replace(/\/+$/,""):i}function Xe(n,e,r,t){let i=ae(e,r,t),u=Object.keys(i).filter(o=>!N(x(r,t)).some(({name:a})=>a===o)).filter(o=>o!=="_query").reduce((o,a)=>({...o,[a]:i[a]}),{});return We(n,i,r,t)+(0,F.stringify)({...u,...i._query},{addQueryPrefix:!0,arrayFormat:"indices",encodeValuesOnly:!0,skipNulls:!0,encoder:(o,a)=>typeof o=="boolean"?o?"1":"0":a(o)})}function ir(n,e,r=!0,t){let i=t??Ziggy??globalThis?.Ziggy;if(i.absolute=r,n){let a=i.routes[n];if(a)return Xe(n,e??{},a,i);throw new Error(`Ziggy error: route '${n}' is not in the route list.`)}function u(a,c){let l=ie(i);if(!l.matched)return a?!1:void 0;if(!a)return l.name;let f=new RegExp(`^${a.replace(/\./g,"\\.").replace(/\*/g,".*")}$`).test(l.name);if(c==null||!f)return f;c=ae(c,l.route,i);let y={...l.params,...l.query};return Object.values(c).every(d=>!d)&&!Object.values(y).some(d=>d!==void 0)?!0:Object.entries(c).every(([d,g])=>y[d]==g)}return{get params(){let a=ie(i);return a.matched?{...a.params,...a.query}:{}},current:u,has(a){return Object.hasOwn(i.routes,a)},check(a){return Object.hasOwn(i.routes,a)}}}export{ir as route};
